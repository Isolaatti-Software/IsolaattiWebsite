@page
@model isolaatti_API.Pages.admin.AdminPortal

@{
    Layout = "Shared/_LayoutAdminPortal";
    ViewData["Title"] = "Home";
}


@if (Model.CredentialsAreValid)
{
    <h1 class="mt-4">Welcome, @ViewData["username"]</h1>
}

<ul class="nav nav-tabs" id="myTab" role="tablist">
    
    <li class="nav-item">
        <a class="nav-link active" id="home-tab" data-toggle="tab" href="#allSongs" role="tab" aria-controls="home" aria-selected="true">All songs</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" id="profile-tab" data-toggle="tab" href="#allUsers" role="tab" aria-controls="profile" aria-selected="false">All users</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" id="contact-tab" data-toggle="tab" href="#summary" role="tab" aria-controls="contact" aria-selected="false">Summary</a>
    </li>
</ul>
<div class="tab-content" id="myTabContent">
    <div class="tab-pane fade show active" id="allSongs" role="tabpanel" aria-labelledby="home-tab">
        <div class="table-responsive">
            <table class="table table-dark">
                <thead>
                <tr>
                    <th>Name</th>
                    <th>Artist</th>
                    <th>Drums track</th>
                    <th>Bass track</th>
                    <th>Vocals track</th>
                    <th>Other track</th>
                </tr>
                </thead>
                <tbody>
                @foreach (var song in Model.Songs)
                {
                    <tr>
                        <td>@song.OriginalFileName</td>
                        <td>@song.Artist</td>
                        <td><a href="@song.DrumsUrl">@song.DrumsUrl</a></td>
                        <td><a href="@song.BassUrl">@song.BassUrl</a></td>
                        <td><a href="@song.VoiceUrl">@song.VoiceUrl</a></td>
                        <td><a href="@song.OtherUrl">@song.OtherUrl</a></td>
                    </tr>
                }
                </tbody>
            </table>
        </div>

    </div>
    <div class="tab-pane fade" id="allUsers" role="tabpanel" aria-labelledby="profile-tab">
        <div class="responsive-table">
            <table class="table table-dark">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Username</th>
                    <th>Email</th>
                </tr>
                </thead>
                <tbody>
                @foreach (var user in Model.Users)
                {
                    <tr>
                        <td>@user.Id</td>
                        <td>@user.Name</td>
                        <td>@user.Email</td>
                    </tr>
                }
                </tbody>
            </table>
        </div>
    </div>
    <div class="tab-pane fade" id="summary" role="tabpanel" aria-labelledby="contact-tab">
        <h4>Total users: @Model.Users.Count()</h4>
        <h4>Total songs: @Model.Songs.Count()</h4>

    </div>
</div>


