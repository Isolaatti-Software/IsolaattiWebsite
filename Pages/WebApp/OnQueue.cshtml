@page
@model isolaatti_API.Pages.WebApp.OnQueue

@{
    Layout = "Shared/_LayoutWebApp";
    ViewData["Title"] = "Songs on queue";
}
<script>document.querySelector("#onqueue-link").classList.add("custom-active-nav-link")</script>
<div class="col-lg-3 col-md-2"></div>
<div class="col-lg-6 col-md-8">
    <h1>Songs on queue</h1>
    <div class="alert alert-info alert-dismissible fade show">
        <strong>Disclaimer.</strong> Hey, this platform is under continuous development and is not ready for production yet. Some delay can be present.
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <p>Songs that are pending to be passed to the processing server.</p>
    <p>This page is not real time updated (only updated when the page is loaded or refreshed), if the song you attempt to delete from the queue is already being processed, the process will not be stopped.</p>
    @if (Model.EmptyQueue || Model.SongsOnQueue.Count().Equals(0))
    {
        <h2><i class="fas fa-info-circle"></i>
        <br>No songs are on queue</h2>
    }
    else
    {
        <table class="table table-borderless bg-dark text-white">
            
            <thead class="thead-dark">
            <tr>
                <td></td>
                <td>Name</td>
                <td>Artist</td>
                <td>File</td>
            </tr>
            </thead>
            <tbody>
            @foreach (var element in Model.SongsOnQueue)
            {
                <tr>
                    <td><a href="#"><i class="fas fa-trash-alt"></i></a> </td>
                    <td>@element.SongName</td>
                    <td>@element.SongArtist</td>
                    <td><a href="@element.AudioSourceUrl" target="_blank"><i class="fas fa-external-link-square-alt"></i></a></td>
                </tr>
            }
            </tbody>
        </table>
    }
</div>
<div class="col-lg-3 col-md-2"></div>