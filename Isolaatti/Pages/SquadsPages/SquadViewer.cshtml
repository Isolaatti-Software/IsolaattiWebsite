@page "/squads/{squadId:guid}"
@model Isolaatti.Pages.SquadsPages.SquadViewer

@{
    Layout = "Shared/_LayoutWebApp";
}

@if (Model.UserBelongs)
        {
            <squad-view squad-id="@Model.SquadId"></squad-view>     
        }
        else
        {
            <squad-preview squad-id="@Model.SquadId"></squad-preview>
        }

@section Scripts
{

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://unpkg.com/dompurify@2.3.5/dist/purify.min.js"></script>
    <script inline src="~/js/VueComponents/page/squadViewerPage/squadHeaderComponent.js"></script>

    @if (Model.UserBelongs)
    {
        ViewData["squadsRouter"] = true;
        <script>
        function getRoutesForPage() { 
            return [
                { path: "/", component: squadNewDiscussionComponent },
                { path: "/miembros", component: squadPeopleComponent },
                { path: "/imagenes", component: squadImages},
                { path: "/ajustes", component: squadSettingsComponent}
        ]}
        </script>
        <script inline src="~/js/VueComponents/usersGridComponent.js"></script>
        <script inline src="~/js/VueComponents/postsList.js"></script>
        <script inline src="~/js/VueComponents/postComponent.js"></script>
        <script inline src="~/js/VueComponents/commentComponent.js"></script>
        <script inline src="~/js/VueComponents/commentsViewer.js"></script>
        <script inline src="~/js/VueComponents/newDiscussionComponent.js"></script>
        <script inline src="~/js/VueComponents/profileImageMakerComponent.js"></script>
        <script inline src="~/js/VueComponents/imageUploaderComponent.js"></script>
        <script inline src="~/js/VueComponents/profileImagesComponent.js"></script>
        <script inline src="~/js/VueComponents/newCommentComponent.js"></script>
        <script inline src="~/js/VueComponents/audiosList.js"></script>
        <script inline src="~/js/VueComponents/audioRecorder.js"></script>
        <script inline src="~/js/VueComponents/squads/squadImagesComponent.js"></script>
        <script inline src="~/js/VueComponents/squads/squadInvitationUserSearcher.js"></script>
        <script inline src="~/js/VueComponents/squads/squadNewInvitationComponent.js"></script>
        <script inline src="~/js/VueComponents/page/squadViewerPage/joinRequestsComponent.js"></script>
        <script inline src="~/js/VueComponents/page/squadViewerPage/squadInvitationsComponent.js"></script>
        <script inline src="~/js/VueComponents/page/squadViewerPage/squadPeopleComponent.js"></script>
        <script inline src="~/js/VueComponents/page/squadViewerPage/squadViewerComponent.js"></script>
        <script inline src="~/js/VueComponents/page/squadViewerPage/squadNewDiscussionComponent.js"></script>
        <script inline src="~/js/VueComponents/page/squadViewerPage/squadSettingsPageComponent.js"></script>
        <script inline src="~/js/VueComponents/page/squadViewerPage/squadWikiComponent.js"></script>
        <script inline src="~/js/VueComponents/page/squadViewerPage/squadMembersComponent.js"></script>
        <script inline src="~/js/VueComponents/squads/squadRequestsList.js"></script>
    }
    else
    {
        <script src="~/js/VueComponents/page/squadViewerPage/squadPreviewPage.js"></script>
    }

}
